#!/bin/bash



# gated/perm

python3 main_sim.py --ntrain 1000 --num_epochs 100 --hidden_dim 512 --sequential_flag True --_type gated --_type_corr original --_type_data MNIST --_type_solver perm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1 --lambda1before 1 --lambda0  1e-3 --lambda1 1.  --last_is_feature False --learning_rate 0.01 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.4 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid --entropy_type shannon


python3 main_sim.py --ntrain 1000 --num_epochs 100 --hidden_dim 512 --sequential_flag True --_type gated --_type_corr original --_type_data MNIST --_type_solver perm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1 --lambda1before 1 --lambda0  1e-3 --lambda1 1.  --last_is_feature False --learning_rate 0.003 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.4 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid --entropy_type shannon


python3 main_sim.py --ntrain 1000 --num_epochs 100 --hidden_dim 512 --sequential_flag True --_type gated --_type_corr original --_type_data MNIST --_type_solver perm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1 --lambda1before 1 --lambda0  1e-3 --lambda1 1.  --last_is_feature False --learning_rate 0.003 --mask_update_every 10 --n_e 4 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.4 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid --entropy_type shannon



python3 main_sim.py --ntrain 1000 --num_epochs 100 --hidden_dim 512 --sequential_flag False --_type gated --_type_corr original --_type_data MNIST --_type_solver perm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid

#gated/pirm

python3 main_sim.py --ntrain 1000 --num_epochs 100 --hidden_dim 512 --sequential_flag True --_type gated --_type_corr original --_type_data MNIST --_type_solver pirm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


python3 main_sim.py --ntrain 1000 --num_epochs 100 --hidden_dim 512 --sequential_flag False --_type gated --_type_corr original --_type_data MNIST --_type_solver pirm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.4 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


#std/erm


python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag True --_type std --_type_corr original --_type_data MNIST --_type_solver erm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag False --_type std --_type_corr original --_type_data MNIST --_type_solver erm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid

# std/irm

python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag True --_type std --_type_corr original --_type_data MNIST --_type_solver irm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag False --_type std --_type_corr original --_type_data MNIST --_type_solver irm --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


# gated/irmg

python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag True --_type gated --_type_corr original --_type_data MNIST --_type_solver irmg --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag False --_type gated --_type_corr original --_type_data MNIST --_type_solver irmg --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid

# ewc/cl

python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag True --_type ewc --_type_corr original --_type_data MNIST --_type_solver cl --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag False --_type ewc --_type_corr original --_type_data MNIST --_type_solver cl --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


# gem/cl

python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag True --_type gem --_type_corr original --_type_data MNIST --_type_solver cl --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag False --_type gem --_type_corr original --_type_data MNIST --_type_solver cl --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.6 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid



# mer/cl

python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag True --_type mer --_type_corr original --_type_data MNIST --_type_solver cl --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.4 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid


python3 main_sim.py --ntrain 1000 --num_epochs 10 --hidden_dim 512 --sequential_flag False --_type mer --_type_corr original --_type_data MNIST --_type_solver cl --_type_split none --batch_size 256 --batches_per_example 2 --beta 0.03 --dropp 0.0 --eval_ntimes 10 --gamma 1.0 --gamma_new 10000.0 --lambda0before 1e3 --lambda1before 1. --lambda0  1.0 --lambda1 1e-1  --last_is_feature False --learning_rate 0.1 --mask_update_every 10 --n_e 2 --n_memories 3 --net_freeze_epoch 1500 --output_path results/ --pc_test 0.9 --pc_train_end 0.1 --pc_train_start 0.4 --pl_test 0.25 --pl_train 0.25 --reg 100 --replay_batch_size 5 --scheduler_flag False --seed 700  --steps_threshold 600 --termination_acc 0.6 --use_gate_net_flag True --ver test009 --verbose False --warm_start 100 --weight_decay 0.0 --writer_flag False --mask_type sigmoid



